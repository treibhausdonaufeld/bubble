{% load i18n %}

{% if is_mobile %}
  <li class="nav-item">
    <a class="nav-link{% if request.resolver_match.app_name == 'items' %} active{% endif %}"
       href="{% url 'items:list' %}">🧺 {% trans "Dinge" %}</a>
  </li>
  <li class="nav-item">
    <a class="nav-link{% if request.resolver_match.app_name == 'books' %} active{% endif %}"
       href="{% url 'books:list' %}">📚 {% trans "Books" %}</a>
  </li>
  <li class="nav-item">
    <a class="nav-link{% if request.resolver_match.app_name == 'rooms' %} active{% endif %}"
       href="{% url 'rooms:list' %}">🛋️ {% trans "Rooms" %}</a>
  </li>
  {% if user.is_authenticated %}
  <li class="nav-item">
    <a class="nav-link{% if request.resolver_match.url_name == 'list' and request.resolver_match.app_name == 'users' %} active{% endif %}"
       href="{% url 'users:list' %}">👥 {% trans "Community" %}</a>
  </li>
  <li class="nav-item">
    <a class="nav-link{% if request.resolver_match.app_name == 'messaging' %} active{% endif %} position-relative"
       href="{% url 'messaging:conversation_list' %}">
      💬 {% trans "Messages" %}
      {% if unread_messages_count > 0 %}
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
          {{ unread_messages_count }}
          <span class="visually-hidden">{% trans "unread messages" %}</span>
        </span>
      {% endif %}
    </a>
  </li>
  {% endif %}
{% else %}
  <li class="nav-item">
    <a class="nav-link{% if request.resolver_match.app_name == 'items' %} active{% endif %}"
       href="{% url 'items:list' %}">🧺 {% trans "Dinge" %}</a>
  </li>
  <li class="nav-item">
    <a class="nav-link{% if request.resolver_match.app_name == 'books' %} active{% endif %}"
       href="{% url 'books:list' %}">📚 {% trans "Books" %}</a>
  </li>
  <li class="nav-item">
    <a class="nav-link{% if request.resolver_match.app_name == 'rooms' %} active{% endif %}"
       href="{% url 'rooms:list' %}">🛋️ {% trans "Rooms" %}</a>
  </li>
  {% if user.is_authenticated %}
  <li class="nav-item">
    <a class="nav-link{% if request.resolver_match.url_name == 'list' and request.resolver_match.app_name == 'users' %} active{% endif %}"
       href="{% url 'users:list' %}">👥 {% trans "Community" %}</a>
  </li>
  <li class="nav-item">
    <a class="nav-link{% if request.resolver_match.app_name == 'messaging' %} active{% endif %} position-relative"
       href="{% url 'messaging:conversation_list' %}">
      💬 {% trans "Messages" %}
      {% if unread_messages_count > 0 %}
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
          {{ unread_messages_count }}
          <span class="visually-hidden">{% trans "unread messages" %}</span>
        </span>
      {% endif %}
    </a>
  </li>
  {% endif %}
{% endif %}
{% include 'includes/nav_user_items.html' %}
